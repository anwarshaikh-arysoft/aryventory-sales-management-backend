import{r as t,j as a,a as x}from"./app-BP4yl3BC.js";import{A as M}from"./app-layout-Cwtnfmx_.js";import{S as v}from"./layout-DzZ73RzF.js";import{D as C,C as g,a as _}from"./delete-confirmation-modal-DZ4_gz9v.js";/* empty css            */import"./app-logo-icon-DEZI2dJj.js";import"./index-3KgsdXlp.js";import"./index-B67v5KVH.js";import"./heading-VQydfQAI.js";import"./separator-rz3D3c4N.js";import"./card-Kb3HfW26.js";import"./input-Dq2P0aCI.js";import"./badge-C9qeZdp-.js";import"./select-D0kngPwl.js";import"./index-CFvp7uWT.js";import"./trash-2-6HQcmOCw.js";import"./dialog-CnCDzEzS.js";import"./label-CVruneVp.js";const w=[{key:"id",label:"ID",type:"number"},{key:"user.name",label:"User",type:"text",render:(i,r)=>r.user?.name||"Unknown User"},{key:"daily_meeting_targets",label:"Daily Meetings",type:"number"},{key:"closure_target",label:"Closure Target",type:"number"},{key:"revenue_targets",label:"Revenue Target",type:"currency"},{key:"created_at",label:"Created",type:"date"}];function Q(){const[i,r]=t.useState(!1),[y,o]=t.useState(!1),[f,l]=t.useState(!1),[d,n]=t.useState(null),[h,p]=t.useState(0),[b,u]=t.useState([]);t.useEffect(()=>{(async()=>{try{const s=await x.get("/api/users");u(Array.isArray(s.data)?s.data:s.data.data||[])}catch(s){console.error("Error fetching users:",s),u([])}})()},[]);const m=[{name:"user_id",label:"User",type:"select",required:!0,options:b.map(e=>({value:e.id,label:e.name}))},{name:"daily_meeting_targets",label:"Daily Meeting Targets",type:"number",required:!0,placeholder:"Enter daily meeting targets"},{name:"closure_target",label:"Closure Target",type:"number",required:!0,placeholder:"Enter closure target"},{name:"revenue_targets",label:"Revenue Targets",type:"number",required:!0,placeholder:"Enter revenue targets"}],E=()=>{n(null),r(!0)},S=e=>{n(e),o(!0)},D=e=>{n(e),l(!0)},c=()=>{p(e=>e+1),r(!1),o(!1)},T=()=>{p(e=>e+1),l(!1)};return a.jsx(M,{children:a.jsxs(v,{children:[a.jsx(C,{title:"Targets",description:"Manage user targets and performance goals",apiEndpoint:"/api/targets",columns:w,onAdd:E,onEdit:S,onDelete:D,searchPlaceholder:"Search targets...",refreshTrigger:h}),a.jsx(g,{isOpen:i,onClose:()=>r(!1),onSave:c,title:"Target",description:"Add a new target",apiEndpoint:"/api/targets",fields:m,item:null}),a.jsx(g,{isOpen:y,onClose:()=>o(!1),onSave:c,title:"Target",description:"Edit target details",apiEndpoint:"/api/targets",fields:m,item:d}),a.jsx(_,{isOpen:f,onClose:()=>l(!1),onDeleted:T,title:"Target",apiEndpoint:"/api/targets",item:d,itemDisplayName:"user.name"})]})})}export{Q as default};
